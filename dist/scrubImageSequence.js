(()=>{let t=gsap.utils.toArray("[scrub-wrapper]"),e=document.documentElement.clientWidth,a=window.innerHeight;var n=gsap.matchMedia(),r=0,i=0;function o(){t.forEach(function(t){var n=t.dataset.prefix||null,o=t.dataset.suffix||null,s=t.dataset.framecount||0,u=t.querySelector("canvas");u&&n&&o&&s&&(r+=Number(s),i+=Number(s),function(t,n,i,o,s,u){var c=n.getContext("2d");n.width=e,n.height=a;for(var m=[],f=0;f<s;f++){var l,g=new Image,w=(l=f,`${i}${u}/${(l+1).toString().padStart(3,"0")}${o}`);g.onload=function(){d(w),0===r&&function(t,e,a,n){var r={frame:0};t.querySelectorAll("[frames-play]").forEach(function(t){var r=Number(t.dataset.start),i=Number(t.dataset.end),o=t.dataset.startPos||"top top",d=t.dataset.endPos||"bottom bottom",s={frame:0};gsap.timeline({onUpdate:function(){h(e,s,a,n)},scrollTrigger:{trigger:t,pin:!1,scrub:1,start:o,end:d,markers:!1}}).fromTo(s,{frame:r-1},{frame:i-1,snap:"frame",ease:"none",duration:1},0)}),h(e,r,a,n),window.addEventListener("resize",function(){n.width=document.documentElement.clientWidth,n.height=window.innerHeight,h(e,r,a,n)})}(t,m,c,n)},g.onerror=function(){d(w)},g.src=w,m.push(g)}}(t,u,n,o,s,e>=768?"desktop":"mobile"))})}function d(t){0==--r&&setTimeout(function(){lenis.resize()},500)}function h(t,e,a,n){var r=t[e.frame];a.clearRect(0,0,n.width,n.height),r.width,r.height;var i=Math.max(n.width/r.width,n.height/r.height),o=r.width*i,d=r.height*i,h=n.width/2-o/2,s=n.height/2-d/2;a.drawImage(r,h,s,o,d)}n.add("(min-width: 768px)",()=>{o()}),n.add("(max-width: 767px)",()=>{o()})})();
//# sourceMappingURL=scrubImageSequence.js.map
