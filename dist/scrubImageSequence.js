(()=>{let e=gsap.utils.toArray("[scrub-wrapper]"),t=document.documentElement.clientWidth,r=window.innerHeight;var a=gsap.matchMedia();function n(){e.forEach(function(e){var a=e.dataset.prefix||null,n=e.dataset.suffix||null,o=Number(e.dataset.framecount||0),d=e.querySelector("canvas");d&&a&&n&&o&&function(e,a,n,o,d,l){let f=a.getContext("2d");a.width=t,a.height=r;let h=Array(d).fill(null),m=e=>`${n}${l}/${(e+1).toString().padStart(3,"0")}${o}`;!function t(r=0){let n=0;for(let o=r;o<d;o+=4){if(h[o])continue;let d=new Image;d.src=m(o),d.onload=()=>{h[o]=d,n++,0===r&&1===n&&function(e,t,r,a){e.querySelectorAll("[frames-play]").forEach(function(e){var n=Number(e.dataset.start),o=Number(e.dataset.end),d=e.dataset.startPos||"top top",l=e.dataset.endPos||"bottom bottom",f={frame:n-1};gsap.timeline({onUpdate:()=>i(t,f,r,a),scrollTrigger:{trigger:e,pin:!1,scrub:1,start:d,end:l,markers:!1}}).fromTo(f,{frame:n-1},{frame:o-1,snap:"frame",ease:"none",duration:1},0)}),i(t,{frame:0},r,a),window.addEventListener("resize",function(){a.width=document.documentElement.clientWidth,a.height=window.innerHeight,i(t,{frame:0},r,a)})}(e,h,f,a),h.map((e,t)=>t%4!==r||!!e).every(Boolean)&&r<3&&t(r+1)},d.onerror=()=>{h[o]="error"}}}(0)}(e,d,a,n,o,t>=768?"desktop":"mobile")})}function i(e,t,r,a){let n=t.frame,i=e[n];if(!i||"error"===i){for(let t=n-1;t>=0;t--)if(e[t]&&"error"!==e[t]){i=e[t];break}}if(!i||"error"===i){for(let t=n+1;t<e.length;t++)if(e[t]&&"error"!==e[t]){i=e[t];break}}if(!i||"error"===i)return;r.clearRect(0,0,a.width,a.height);let o=Math.max(a.width/i.width,a.height/i.height),d=i.width*o,l=i.height*o,f=(a.width-d)/2,h=(a.height-l)/2;r.drawImage(i,f,h,d,l)}a.add("(min-width: 768px)",()=>n()),a.add("(max-width: 767px)",()=>n())})();
//# sourceMappingURL=scrubImageSequence.js.map
